<div class="main-container">

    <div class="left-menu-area" #leftmenu>

        <div class="left-menu-top">
            <button mat-icon-button (click)="toggleLeftMenu()">
                <mat-icon *ngIf="!isShrunk">chevron_left</mat-icon>
                <mat-icon *ngIf="isShrunk">chevron_right</mat-icon>
            </button>
        </div>

        <div class="left-menu-bottom" *ngIf="isShrunk">
            <button mat-icon-button [matMenuTriggerFor]="chans">
                <mat-icon>forum</mat-icon>
                <mat-menu #chans="matMenu">
                    <button mat-menu-item *ngFor="let channel of channels()" (click)="switchToChannel(channel)"><mat-icon>forum</mat-icon>{{channel.name}}</button>
                </mat-menu>
            </button>

            <button mat-icon-button [matMenuTriggerFor]="dms">
                <mat-icon>3p</mat-icon>
                <mat-menu #dms="matMenu">
                    <button mat-menu-item *ngFor="let dm of directMessages()" (click)="switchToChannel(dm)"><mat-icon>3p</mat-icon>{{returnChatpartner(dm.members)}}</button>
                </mat-menu>
            </button>
        </div>

        <div class="left-menu-bottom" *ngIf="!isShrunk">

            <button mat-button (click)="showChannels = !showChannels">
                Channels
                <mat-icon *ngIf="!showChannels">chevron_right</mat-icon>
                <mat-icon *ngIf="showChannels">chevron_left</mat-icon>
            </button>
            <ng-container *ngIf="showChannels">
                <button mat-button *ngFor="let channel of channels()" (click)="switchToChannel(channel)"><mat-icon>forum</mat-icon> {{channel.name}}</button>
                    
            </ng-container>

            <button mat-button (click)="showDMs = !showDMs">
                Direct Messages
                <mat-icon *ngIf="!showDMs">chevron_right</mat-icon>
                <mat-icon *ngIf="showDMs">chevron_left</mat-icon>
            </button>
            <ng-container *ngIf="showDMs">
                <button mat-button *ngFor="let dm of directMessages()" (click)="switchToChannel(dm)"><mat-icon>3p</mat-icon> {{returnChatpartner(dm.members)}}</button>
                    
            </ng-container>
        </div>


    </div>

    <div class="content-container hide-overflow" #content *ngFor="let chat of channel()">
        <div class="content-top-area">
            <span class="channel-title">{{chat.name}}</span>
            <span>Created on {{chat.created | date: "short"}} by {{chat.createdBy.fullName}}.</span>
            <span class="description">Description: {{chat.description}}</span>
            <span class="members-area">
                <span class="members-list">
                    <span>Members:</span>
                    <button mat-button *ngFor="let member of chat.members"><mat-icon>person</mat-icon>{{member.fullName}}</button>
                </span>
                <span class="more-btn">
                    <span>Members:</span>
                    <button mat-icon-button [matMenuTriggerFor]="menu">
                        <mat-icon>more_horiz</mat-icon>
                        <mat-menu #menu="matMenu">
                            <button mat-menu-item *ngFor="let member of chat.members"><mat-icon>person</mat-icon>{{member.fullName}}</button>
                        </mat-menu>
                    </button>
                </span>
            </span>
        </div>
    </div>

</div>